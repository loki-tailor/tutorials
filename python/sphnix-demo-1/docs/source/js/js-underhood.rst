==================
js @ underhood
==================

ref: `How the JavaScript engine works!! Source to byte code JS V8 engine explained | Advanced JavaScript <https://www.youtube.com/watch?v=LLxNAw4CVTs>`_

.. code-block:: js

    function return5() {
        return 5;
    }

    console.log(return5());

.. code-block:: bash

    $ node example.js
    $ node --print-bytecode example.js

    $ node --print-bytecode --print-bytecode-filter=return5 example.js
        [generated bytecode for function: return5 (0x02dd80a91b11 <SharedFunctionInfo return5>)]
        Bytecode length: 3
        Parameter count 1
        Register count 0
        Frame size 0
        OSR nesting level: 0
        Bytecode Age: 0
        26 S> 000002DD80A9238E @    0 : 0d 05             LdaSmi [5] # Ld=load, a=accumulator, Smi = SmallInt i.e 'load' in the 'accumulator' a 'small-int' '5'
        35 S> 000002DD80A92390 @    2 : a8                Return
        Constant pool (size = 0)
        Handler Table (size = 0)
        Source Position Table (size = 6)
        0x02dd80a92399 <ByteArray[6]>
        5


| { example.js --> PARSER --> AST (Abstract Syntax Tree) }
| 
| { AST feed into --> INTERPRETER (ignition i.e. v8) --> VIRTUAL_BYTE_CODE / MACHINE_CODE }
|
| { INTERPRETER --> OPTIMIZERS (caching, etc..) }
| 
| { INTERPRETER --> COMPILER --> MACHINE_SPECIFIC_CODE
| 
| INTERPRETER i.e. v8 i.e. REGISTER MACHINE     
| original code is abstracted away from any particular machine implementation